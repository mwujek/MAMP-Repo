var windowWidth,windowHeight;$(document).ready(function(){function t(){setTimeout(function(){v.data("active")===!1?(v.velocity({scaleX:1},{duration:500}),setTimeout(function(){h.velocity({opacity:1,left:0},{duration:500})},500),v.data({active:!0})):(v.velocity({scaleX:0},{duration:500}),setTimeout(function(){h.velocity({opacity:0,left:-10},{duration:500})},500),v.data({active:!1}))},500)}function i(t){t.velocity({width:16},{duration:300,easing:"easeOutCubic",delay:200,complete:function(){y.velocity({height:50,opacity:f,marginBottom:8},{duration:500,delay:100,visibility:"visible"})}})}function a(t){var a=t.data.index,e=t.data.element,o=e.parent(),n="img/project-img-"+a+".jpg",c=o.find(".thumbnail-selected-circle");$(".image-thumbnail").each(function(t){console.log(t),$(this).data("active")===!0&&(console.log("reset"),$(this).siblings(".thumbnail-selected-circle").velocity({width:0},{duration:300,easing:"easeOutCubic",delay:200}),$(this).data({active:!1}))}),o.velocity({opacity:1},{duration:500}),e.data({active:!0}),i(c),g.velocity({opacity:0},{duration:500}).velocity("reverse",{duration:500,delay:800,begin:function(){g.css({"background-image":"url("+n+")"})}})}function e(t,i){var a=arguments.length;t===!1?($(C.get()).each(function(t){6!==t?$(this).velocity({opacity:1,left:"0px"},{duration:200,visibility:"visible",delay:50*t}):$(this).velocity({opacity:1,left:"0px"},{easing:[100,8],visibility:"visible",delay:70*t})}),b.data({active:!0})):($(C.get().reverse()).each(function(t){6!==t?$(this).velocity({opacity:0,left:"-20px"},{duration:200,visibility:"hidden",delay:50*t}):0===a?$(this).velocity({opacity:0,left:"-20px"},{duration:200,visibility:"hidden",delay:60*t}):$(this).velocity({opacity:0,left:"-20px"},{duration:200,visibility:"hidden",delay:60*t,complete:function(){i()}})}),b.data({active:!1}))}function o(t){"back"===t&&e(!0,function(){w.velocity({left:-42,rotateZ:"180deg"},{duration:300,delay:800,begin:function(){m.text("back"),b.data({state:"back"}),m.velocity({left:12},{duration:300})}})})}function n(t){var i=t,a=i.find(".work-expand");a.velocity({height:200})}function c(t,i){var a=t.length;0===a?(console.log("only one!"),i.velocity({top:"-10px"},{duration:100,loop:1})):t.each(function(t){a-1>t?$(this).velocity({height:0},{duration:250,delay:350*t}):$(this).velocity({height:0},{duration:250,delay:350*t,complete:function(){i.velocity({top:"-10px"},{duration:100,loop:1,complete:function(){console.log("new page"),n(i)}})}})}).promise().done(o("back"))}function l(t){var i=t.split("-tag ")[1],a=t.split("tag-")[1];return[i,a]}function d(t,i,a,e,o){var n=arguments.length;"top"===i&&t.velocity({top:a},{loop:1,duration:e}),"left"===i&&(5!==n?t.velocity({left:a},{loop:1,duration:e}):t.velocity({left:a},{loop:1,duration:e,complete:o})),"padding-right"===i&&(console.log("run"),t.velocity({paddingRight:a},{loop:1,duration:e}))}windowWidth=$(window).width(),windowHeight=$(window).height();var s=$(".menu-btn"),r=$("#nav-list"),u=r.find("li"),v=$("#indicator-line"),h=$(".section-title");v.velocity({scaleX:0},{duration:0}),h.velocity({opacity:0,left:-10},{duration:0}),u.each(function(){$(this).velocity({left:-50,opacity:0},{duration:0,visibility:"hidden"})}),s.data({active:!1}),v.data({active:!1}),s.click(function(i){i.preventDefault(),s.data("active")===!1?(t(),u.each(function(t){$(this).velocity({left:0,opacity:1},{delay:100*t,duration:500,visibility:"visible"})}),s.toggleClass("active-nav"),s.data({active:!0})):(t(),u.each(function(t){$(this).velocity({left:-50,opacity:0},{delay:100*t,duration:500,visibility:"hidden"})}),s.toggleClass("active-nav"),s.data({active:!1}))}),$(".up-arrow").data({visible:!1}),$(".up-arrow").click(function(){$("body").velocity("scroll",{duration:1e3,complete:function(){}})});var f=.3,g=$(".image-container-col"),y=$(".hidden-li"),p=$(".image-thumbnail").length;$(".image-thumbnail").each(function(t){var i=$(this),e=i.parent(),o=e.find(".thumbnail-info");i.data({active:!1}),e.hover(function(){o.velocity("finish"),o.velocity({left:0,opacity:1},{duration:300})},function(){o.velocity({left:-50,opacity:0},{duration:300})}),i.click({element:i,index:t,total:p},a)});var b=$(".filter-btn"),m=$(".filter-text"),w=$("#cross"),k=$(".tag-list"),C=k.find("li");b.data({active:!1,state:"filter"}),b.data({active:!1}),b.click(function(){var t=b.data("active"),i=b.data("state");"filter"===i?t===!1?b.velocity({left:5},{duration:200,loop:1,complete:function(){w.velocity({rotateZ:"180deg"},{duration:500,begin:function(){e(t)}})}}):e(t,function(){b.velocity({left:-5},{duration:200,loop:1}),w.velocity({rotateZ:"0deg"},{duration:300})}):console.log("go back")});var x=$(".work-list figure");x.each(function(t){var i=$(this),a=i.find("figcaption"),e=a.innerWidth(),o,n=i.find(".work-img"),l=a.find(".standard-btn");l.click(function(){var t=$(this).parents(".work-container"),i=$(".work-list .work-container").filter(function(){return"0px"!==$(this).css("height")});i=i.not(t),$("body").velocity("scroll",{duration:600,complete:function(){b.data("active")===!0?b.velocity({left:-5},{duration:200,loop:1,complete:function(){c(i,t)}}):c(i,t)}});var a=$(this).attr("href")}),i.velocity({opacity:1},{delay:400*(t+1),duration:500,complete:function(){"left"===o?a.velocity({left:0},{duration:600,delay:400}):a.velocity({left:0},{duration:600,delay:400})}}),i.find(">:first-child").is("figcaption")?(a.velocity({left:e},{duration:0}),o="left",a.data({side:"left"}),n.data({side:"right"})):(a.velocity({left:-e},{duration:0}),o="right",a.data({side:"right"}),n.data({side:"left"}))}),$(".work-list .work-container").each(function(){var t=$(this),i=$(this).find("span");t.data({mobile:!1,proto:!1,d3:!1,web:!1,installation:!1,framer:!1,processing:!1,open:!0}),$.each(i,function(){$(this).hasClass("tag-mobile")&&t.data("mobile",!0),$(this).hasClass("tag-proto")&&t.data("proto",!0),$(this).hasClass("tag-d3")&&t.data("d3",!0),$(this).hasClass("tag-web")&&t.data("web",!0),$(this).hasClass("tag-installation")&&t.data("installation",!0),$(this).hasClass("tag-mobile")&&t.data("mobile",!0),$(this).hasClass("tag-framer")&&t.data("framer",!0),$(this).hasClass("tag-processing")&&t.data("processing",!0)})});var j=400,W=300;$("#tag-ul li").each(function(){var t=$(this);t.data({active:!1});var i=[],a=[];t.click(function(){var t=$(this).find("span"),e=$(this),o=t.attr("class"),n=l(o),c=n[1],d,s=$(".work-list ."+c),r=$(".work-list .work-container").not(s);i=[],a=[],$.each(s,function(){$(this).data("open")===!1?(console.log("add!"),i.push($(this))):console.log("already open!")}),$.each(r,function(){$(this).data("open")===!0&&a.push($(this))}),console.log(s),e.data("active")===!1?(e.parents("#tag-ul").find(".active-tag").hasClass("active-tag")&&(d=e.parents("#tag-ul").find(".active-tag"),d.toggleClass("active-tag"),d.data({active:!1})),$.each(i,function(t){$(this).velocity({height:334,opacity:1},{duration:j,delay:t*W}),$(this).data({open:!0})}),$.each(a,function(t){$(this).velocity({height:0,opacity:0},{duration:j,delay:t*W}),$(this).data({open:!1})}),e.toggleClass("active-tag"),e.data({active:!0})):(e.parents("#tag-ul").find(".active-tag").toggleClass("active-tag"),e.toggleClass("active-tag"),r.velocity({height:334,opacity:1},{duration:j}),r.data({open:!0}),e.data({active:!1}))})});var R=$(".giants-link"),T=$(".profile-pic"),z=$(".profile-back-btn");T.data({state:"profile"}),R.click(function(){"profile"===T.data("state")&&(T.velocity({opacity:0},{duration:500,begin:function(){d(R,"top",-5,100)},complete:function(){T.css({background:"url(img/giants-yeah.jpg)","background-size":"cover"})}}).velocity({opacity:1},{duration:500,delay:300,complete:function(){z.velocity({left:6},{duration:300,visibility:"visible",easing:"easeOutCubic"})}}),T.data({state:"giants"}))}),z.click(function(){z.velocity({left:-30},{duration:300,visibility:"visible",easing:"easeInCubic",complete:function(){T.velocity({opacity:0},{duration:500,complete:function(){T.css({background:"url(img/profile.jpg)","background-size":"cover"})}}).velocity("reverse",{duration:500,delay:300,complete:function(){T.data({state:"profile"})}})}})}),$(".bio-btn-list .btn-text").each(function(){var t=$(this).parent().find(".hidden-btn"),i=t.outerWidth(),a=$(this);a.data({active:!1}),t.velocity({width:0,borderColor:"#fff",padding:0},{duration:0}),a.click(function(){var e=$(this).parent().attr("class");a.data("active")===!1?("btn-email"===e?(t.velocity({width:200,borderColor:"#ccc",paddingRight:20,paddingLeft:20},{duration:500}),$(".email-address").typed({strings:["mattwujek@gmail.com"],contentType:"html",typeSpeed:50,showCursor:!1})):(d($(this),"padding-right",25,100),t.velocity({width:i,borderColor:"#ccc",paddingRight:20,paddingLeft:20},{duration:500})),a.data({active:!0})):(console.log("shrink"),t.velocity({width:0,borderColor:"#fff",paddingRight:0,paddingLeft:0},{duration:500}),a.data({active:!1}))})})}),$(window).resize(function(){windowWidth=$(window).width(),windowHeight=$(window).height()});