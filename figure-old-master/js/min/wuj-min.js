var windowWidth,windowHeight;$(document).ready(function(){function t(){setTimeout(function(){f.data("active")===!1?(f.velocity({scaleX:1},{duration:500}),setTimeout(function(){v.velocity({opacity:1,left:0},{duration:500})},500),f.data({active:!0})):(f.velocity({scaleX:0},{duration:500}),setTimeout(function(){v.velocity({opacity:0,left:-10},{duration:500})},500),f.data({active:!1}))},500)}function i(t,i){var a=arguments.length;t===!1?($(m.get()).each(function(t){6!==t?$(this).velocity({opacity:1,left:"0px"},{duration:200,visibility:"visible",delay:50*t}):$(this).velocity({opacity:1,left:"0px"},{easing:[100,8],visibility:"visible",delay:70*t})}),g.data({active:!0})):($(m.get().reverse()).each(function(t){6!==t?$(this).velocity({opacity:0,left:"-20px"},{duration:200,visibility:"hidden",delay:50*t}):0===a?$(this).velocity({opacity:0,left:"-20px"},{duration:200,visibility:"hidden",delay:60*t}):$(this).velocity({opacity:0,left:"-20px"},{duration:200,visibility:"hidden",delay:60*t,complete:function(){i()}})}),g.data({active:!1}))}function a(t,i){console.log(i+"!: state");var a=$(this),e=t.find("ul li > span"),o=t.find("ul li.hidden-li-tag"),n=t.find(".project-btn"),c=t.find(".project-btn span"),l=t.find("figcaption ul li:first").find(".circle-tag").attr("text-value");"images"===i?(o.velocity({opacity:1,width:58},{visibility:"visible",duration:500}),e.each(function(t){var i=$(this);i.velocity({width:50,height:50,marginTop:18},{duration:500,delay:200*(t+1),complete:function(){i.find("div").velocity({opacity:1},{duration:300,delay:200})}}),i.data({state:"thumbnail"}),i.addClass("thumbnail-img")}),n.data({state:"info"}),n.toggleClass("no-hover"),c.text(l)):(o.velocity({opacity:0,width:0},{visibility:"visible",duration:500}),e.each(function(t){var i=$(this);i.velocity({width:10,height:10,marginTop:0},{duration:300,delay:150*(t+1),complete:function(){i.find("div").velocity({opacity:0},{duration:300,delay:0})}}),i.data({state:"tag"}),i.removeClass("thumbnail-img")}),n.data({state:"tags"}),n.toggleClass("no-hover"),c.text("View Project"))}function e(t){"back"===t?i(!0,function(){y.velocity({left:-42,rotateZ:"180deg"},{duration:300,delay:800,begin:function(){p.text("back"),g.data({state:"back"}),p.velocity({left:12},{duration:300})}})}):y.velocity({left:-0,rotateZ:"0deg"},{duration:300,delay:800,begin:function(){p.text("filter"),g.data({state:"filter"}),p.velocity({left:0},{duration:300})}})}function o(t,i){var e=i.find(".work-expand");i.velocity({height:360}),e.velocity({opacity:0,height:0},{duration:500,complete:function(){t.each(function(t){$(this).velocity({height:360},{duration:250,delay:100*t})})}}),a(i,"tags")}function n(t,i,a){var e=t.parent(),o=t.parents("figure"),n=o.find(".work-img"),c="img/project-img-"+i+".jpg",l=e.find(".active-thumbnail"),d=o.find("figcaption .project-btn"),s=d.find("span"),r=t.find(".circle-tag").attr("text-value");console.log(r),n.velocity({opacity:0},{duration:300,complete:function(){d.velocity({top:10},{duration:150,begin:function(){s.velocity({top:-60},{duration:200,easing:"easeInCubic",complete:function(){s.text(r)}}).velocity("reverse",{duration:200,easing:"easeOutCubic"})}}).velocity("reverse",{duration:150})}}).velocity({opacity:0},{duration:300,delay:500,complete:function(){n.css({"background-image":"url("+c+")"})}}).velocity({opacity:1},{duration:300,delay:300})}function c(t){var i=t,e=i.find(".work-expand"),o=e.data("height")+50;i.css({height:i.outerHeight()+o+"px"}),e.velocity({height:o,opacity:1},{duration:800,delay:1300,complete:a(i,"images")})}function l(t,i){var a=t.length;0===a?(console.log("only one!"),i.velocity({top:"-10px"},{duration:100,loop:1})):t.each(function(t){a-1>t?$(this).velocity({height:0},{duration:200,delay:150*t}):$(this).velocity({height:0},{duration:200,delay:150*t,complete:function(){i.velocity({top:"-10px"},{duration:100,loop:1,complete:function(){console.log("new page"),c(i)}})}})}).promise().done(e("back"))}function d(t){var i=t.split("-tag ")[1],a=t.split("tag-")[1];return[i,a]}function s(t,i,a,e,o){var n=arguments.length;"top"===i&&t.velocity({top:a},{loop:1,duration:e}),"left"===i&&(5!==n?t.velocity({left:a},{loop:1,duration:e}):t.velocity({left:a},{loop:1,duration:e,complete:o})),"padding-right"===i&&(console.log("run"),t.velocity({paddingRight:a},{loop:1,duration:e}))}windowWidth=$(window).width(),windowHeight=$(window).height();var r=$(".menu-btn"),u=$("#nav-list"),h=u.find("li"),f=$("#indicator-line"),v=$(".section-title");f.velocity({scaleX:0},{duration:0}),v.velocity({opacity:0,left:-10},{duration:0}),h.each(function(){$(this).velocity({left:-50,opacity:0},{duration:0,visibility:"hidden"})}),r.data({active:!1}),f.data({active:!1}),r.click(function(i){i.preventDefault(),r.data("active")===!1?(t(),h.each(function(t){$(this).velocity({left:0,opacity:1},{delay:100*t,duration:500,visibility:"visible"})}),r.toggleClass("active-nav"),r.data({active:!0})):(t(),h.each(function(t){$(this).velocity({left:-50,opacity:0},{delay:100*t,duration:500,visibility:"hidden"})}),r.toggleClass("active-nav"),r.data({active:!1}))}),$(".up-arrow").data({visible:!1}),$(".up-arrow").click(function(){$("body").velocity("scroll",{duration:1e3,complete:function(){}})});var g=$(".filter-btn"),p=$(".filter-text"),y=$("#cross"),b=$(".tag-list"),m=b.find("li");g.data({active:!1,state:"filter"}),$(".work-expand").each(function(){var t=$(this).find(".text-content").outerHeight();$(this).data({height:t})});var w=$(".work-list figure");g.data({active:!1}),g.click(function(){var t=g.data("active"),a=g.data("state");if("filter"===a)console.log("dont run this"),t===!1?g.velocity({left:5},{duration:200,loop:1,complete:function(){y.velocity({rotateZ:"180deg"},{duration:500,begin:function(){i(t)}})}}):i(t,function(){g.velocity({left:-5},{duration:200,loop:1}),y.velocity({rotateZ:"0deg"},{duration:300})});else{var n=$(".work-list .work-container").filter(function(){return"0px"===$(this).css("height")}),c=$(".work-list .work-container").filter(function(){return"0px"!==$(this).css("height")});g.data({active:!1}),e("filter"),o(n,c)}}),$("figcaption ul li").each(function(t){var i=$(this),a=i.find(".circle-tag");a.data({state:"tag",active:!1}),a.click(function(){var t=$(this).parent(),i=$(this),a=i.parents("ul").find("li"),e=a.length,o=a.index(i.parent());i.hasClass("thumbnail-img")===!0&&i.hasClass("active-thumbnail")===!1?(console.log("code run"),n(t,o,e),i.parents("ul").find(".active-thumbnail").removeClass("active-thumbnail"),i.toggleClass("active-thumbnail")):console.log("dont run code")})}),w.each(function(t){var i=$(this),a=i.find("figcaption"),e=a.innerWidth(),o,n=i.find(".work-img"),c=a.find(".standard-btn");c.data({state:"tags"}),c.click(function(){if(console.log(c.data("state")+": button state"),"tags"===c.data("state")){var t=$(this).parents(".work-container"),i=$(".work-list .work-container").filter(function(){return"0px"!==$(this).css("height")});i=i.not(t),$("body").velocity("scroll",{duration:600,complete:function(){g.data("active")===!0?g.velocity({left:-5},{duration:200,loop:1,complete:function(){l(i,t)}}):l(i,t)}});var a=$(this).attr("href")}}),i.velocity({opacity:1},{delay:400*(t+1),duration:300,complete:function(){"left"===o?a.velocity({left:0},{duration:600,delay:400,easing:[100,11]}):a.velocity({left:0},{duration:600,delay:400,easing:[100,11]})}}),i.find(">:first-child").is("figcaption")?(a.velocity({left:e},{duration:0}),o="left",a.data({side:"left"}),n.data({side:"right"})):(a.velocity({left:-e},{duration:0}),o="right",a.data({side:"right"}),n.data({side:"left"}))}),$(".work-list .work-container").each(function(){var t=$(this),i=$(this).find("span");t.data({mobile:!1,proto:!1,d3:!1,web:!1,installation:!1,framer:!1,processing:!1,open:!0}),$.each(i,function(){$(this).hasClass("tag-mobile")&&t.data("mobile",!0),$(this).hasClass("tag-proto")&&t.data("proto",!0),$(this).hasClass("tag-d3")&&t.data("d3",!0),$(this).hasClass("tag-web")&&t.data("web",!0),$(this).hasClass("tag-installation")&&t.data("installation",!0),$(this).hasClass("tag-mobile")&&t.data("mobile",!0),$(this).hasClass("tag-framer")&&t.data("framer",!0),$(this).hasClass("tag-processing")&&t.data("processing",!0)})});var k=400,C=300;$("#tag-ul li").each(function(){var t=$(this);t.data({active:!1});var i=[],a=[];t.click(function(){var t=$(this).find("span"),e=$(this),o=t.attr("class"),n=d(o),c=n[1],l,s=$(".work-list ."+c),r=$(".work-list .work-container").not(s);i=[],a=[],$.each(s,function(){$(this).data("open")===!1?(console.log("add!"),i.push($(this))):console.log("already open!")}),$.each(r,function(){$(this).data("open")===!0&&a.push($(this))}),console.log(s),e.data("active")===!1?(e.parents("#tag-ul").find(".active-tag").hasClass("active-tag")&&(l=e.parents("#tag-ul").find(".active-tag"),l.toggleClass("active-tag"),l.data({active:!1})),$.each(i,function(t){$(this).velocity({height:360,opacity:1},{duration:k,delay:t*C}),$(this).data({open:!0})}),$.each(a,function(t){$(this).velocity({height:0,opacity:0},{duration:k,delay:t*C}),$(this).data({open:!1})}),e.toggleClass("active-tag"),e.data({active:!0})):(e.toggleClass("active-tag"),r.velocity({height:360,opacity:1},{duration:k}),r.data({open:!0}),e.data({active:!1}))})});var x=$(".giants-link"),j=$(".profile-pic"),T=$(".profile-back-btn");j.data({state:"profile"}),x.click(function(){"profile"===j.data("state")&&(j.velocity({opacity:0},{duration:500,begin:function(){s(x,"top",-5,100)},complete:function(){j.css({background:"url(img/giants-yeah.jpg)","background-size":"cover"})}}).velocity({opacity:1},{duration:500,delay:300,complete:function(){T.velocity({left:6},{duration:300,visibility:"visible",easing:"easeOutCubic"})}}),j.data({state:"giants"}))}),T.click(function(){T.velocity({left:-30},{duration:300,visibility:"visible",easing:"easeInCubic",complete:function(){j.velocity({opacity:0},{duration:500,complete:function(){j.css({background:"url(img/profile.jpg)","background-size":"cover"})}}).velocity("reverse",{duration:500,delay:300,complete:function(){j.data({state:"profile"})}})}})}),$(".bio-btn-list .btn-text").each(function(){var t=$(this).parent().find(".hidden-btn"),i=t.outerWidth(),a=$(this);a.data({active:!1}),t.velocity({width:0,borderColor:"#fff",padding:0},{duration:0}),a.click(function(){var e=$(this).parent().attr("class");a.data("active")===!1?("btn-email"===e?(t.velocity({width:200,borderColor:"#ccc",paddingRight:20,paddingLeft:20},{duration:500}),$(".email-address").typed({strings:["mattwujek@gmail.com"],contentType:"html",typeSpeed:50,showCursor:!1})):(s($(this),"padding-right",25,100),t.velocity({width:i,borderColor:"#ccc",paddingRight:20,paddingLeft:20},{duration:500})),a.data({active:!0})):(console.log("shrink"),t.velocity({width:0,borderColor:"#fff",paddingRight:0,paddingLeft:0},{duration:500}),a.data({active:!1}))})})}),$(window).resize(function(){windowWidth=$(window).width(),windowHeight=$(window).height()});